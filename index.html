<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>QR Code Generator</title>
  <style>
    body { font-family: Arial, sans-serif; display:flex; justify-content:center; align-items:center; height:100vh; background:#f8f9fc; }
    .card { background:#fff; padding:30px; border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,0.1); width:360px; text-align:center; }
    h2 { margin-bottom:20px; }
    input { width: calc(100% - 90px); padding:10px; margin:6px 0; border:1px solid #ccc; border-radius:6px; }
    .row { display:flex; align-items:center; }
    button { margin-left:6px; padding:10px; background:#007bff; border:none; border-radius:6px; color:#fff; cursor:pointer; }
    #qrcode { margin-top:20px; }
  </style>
</head>
<body>
  <div class="card">
    <h2>QR Code Generator</h2>

    <div class="row">
      <input id="first" placeholder="First Name">
      <button onclick="copyVal('first')">ðŸ“‹</button>
    </div>
    <div class="row">
      <input id="last" placeholder="Last Name">
      <button onclick="copyVal('last')">ðŸ“‹</button>
    </div>
    <div class="row">
      <input id="email" placeholder="Email (auto-generated)">
      <button onclick="genEmail()">Gen Email</button>
      <button onclick="copyVal('email')">ðŸ“‹</button>
    </div>
    <div class="row">
      <input id="password" placeholder="Password (auto-generated)">
      <button onclick="genPass()">Gen Pass</button>
      <button onclick="copyVal('password')">ðŸ“‹</button>
    </div>

    <button style="margin-top:10px" onclick="makeQR()">Generate QR</button>
    <div id="qrcode"></div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <script>
    function genEmail() {
      const f = document.getElementById('first').value || 'user';
      const l = document.getElementById('last').value || 'demo';
      document.getElementById('email').value = f.toLowerCase() + '.' + l.toLowerCase() + Math.floor(Math.random()*1000) + '@icloud.com';
    }
    function genPass(len=9) {
      const chars = 'abcdefghijklmnopqrstuvwxyz0123456789';
      let pass = '';
      for (let i=0; i<len; i++) pass += chars[Math.floor(Math.random()*chars.length)];
      document.getElementById('password').value = pass;
    }
    async function copyVal(id) {
      const val = document.getElementById(id).value;
      await navigator.clipboard.writeText(val);
      alert("Copied: " + val);
    }
    function makeQR() {
      const f = encodeURIComponent(document.getElementById('first').value);
      const l = encodeURIComponent(document.getElementById('last').value);
      const e = encodeURIComponent(document.getElementById('email').value);
      const p = encodeURIComponent(document.getElementById('password').value);

      const url = location.origin + location.pathname.replace('generator.html','') + 'form.html'
                + `?first=${f}&last=${l}&email=${e}&pass=${p}`;

      document.getElementById('qrcode').innerHTML = '';
      new QRCode(document.getElementById('qrcode'), { text: url, width: 220, height: 220 });
    }
  </script>
</body>
</html>
